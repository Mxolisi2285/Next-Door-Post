<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Community Announcements</title>
    <link rel="stylesheet" th:href="@{/css/announcements.css}">
    <!-- Font Awesome for footer icons -->
    <script src="https://kit.fontawesome.com/a076d05399.js" crossorigin="anonymous"></script>
</head>
<body>

<!-- Navbar -->
<nav class="navbar">
    <a href="/" class="logo" style="
        display: block;
        width: 68px;
        height: 68px;
        border-radius: 50%;
        overflow: hidden;
        border: 2px solid white;
        box-shadow: 0 2px 6px rgba(0, 0, 0, 0.15);
    ">
        <img th:src="@{/images/logo.png}" alt="Community Logo" style="width: 100%; height: 100%; object-fit: cover;" />
    </a>
    <ul>
        <li><a th:href="@{/announcements}" class="active">News</a></li>
        <li><a th:href="@{/events}">Events</a></li>
        <li><a th:href="@{/gallery}">Gallery</a></li>
    </ul>
    <a th:href="@{/submit-announcement}" class="btn">Submit Announcement</a>
</nav>

<!-- Header Section -->
<header class="announcement-header" style="
    text-align: center;
    padding: 2rem 1rem;
    background-color: #3498db;
    color: white;
">
    <h1>Community Announcements</h1>
    <p>Stay informed about the latest news and events happening in your community.</p>
</header>

<!-- Announcements Section -->
<main class="announcement-container" style="
    max-width: 1000px;
    margin: 2rem auto;
    padding: 0 1rem;
    display: flex;
    flex-direction: column;
    gap: 1.5rem;
">

    <!-- ✅ Loop through APPROVED announcements only -->
    <div th:each="announcement : ${announcements}" class="announcement-card" style="
        background: white;
        padding: 1.5rem;
        border-radius: 10px;
        box-shadow: 0 2px 8px rgba(0,0,0,0.08);
    ">
        <h2 th:text="${announcement.title}" style="margin-top: 0; color: #2c3e50;">Announcement Title</h2>
        <p th:text="${announcement.description}" style="color: #555; line-height: 1.6;">Brief description...</p>
        <p class="date" style="color: #7f8c8d; margin: 0.8rem 0;">
            <strong>Date:</strong> <span th:text="${announcement.date}">2025-10-10</span>
        </p>
        <a th:href="@{'/announcement/' + ${announcement.id}}" class="read-more" style="
            color: #3498db;
            text-decoration: none;
            font-weight: 600;
        ">Read more</a>
    </div>

    <!-- ✅ Show message if NO approved announcements -->
    <div th:if="${announcements.empty}" style="text-align: center; padding: 2rem; color: #7f8c8d;">
        <p>No approved announcements at the moment.</p>
    </div>

</main>

<!-- Footer (unchanged) -->
<footer style="
    background-color: white;
    color: #2c3e50;
    padding: 60px 20px 30px;
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    font-size: 0.95rem;
    border-top: 1px solid #ecf0f1;
    margin-top: auto;
">
    <!-- ... your existing footer content ... -->
    <!-- (Keep everything from your original footer — no changes needed) -->

    <!-- Copyright & Admin Login -->
    <div style="text-align: center; margin-top: 40px; border-top: 1px solid #ecf0f1; padding-top: 20px; font-size: 0.85rem; color: #7f8c8d;">
        <p>&copy; 2025 Community Portal. All rights reserved.</p>
    </div>
    <div style="text-align: center; margin-top: 12px;">
        <a th:href="@{/login}" title="Admin Login">
            <img th:src="@{/images/admin.png}" alt="Admin Login" style="height: 20px; opacity: 0.8;" />
        </a>
    </div>
</footer>

</body>
</html>